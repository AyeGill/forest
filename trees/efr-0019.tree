\author{eigil-rischel}
\date{2024-04-17}
\import{macros}
\title{Mealy and Moore machines as coalgebras}
\p{Let #{F: \cC \to \cC} be a strong monoidal endofunctor. Then there is a dynamical systems doctrine where the indexed category is the trivial fibration #{\cC \times \cC \to \cC} (so that the category of "lenses" is really the category of adaptors #{\cC^\op \times \cC}), and where the section is given by #{T(X) =  (F(X), X)}}
\p{A dynamical system with interface #{\binom{A}{B}} is then an object #{S \in \cC} and a pair of maps #{S \to A, S \otimes B \to F(S).} Recall ([[efr-0012]]) that this is a generalized form of \em{Moore machine}.}
\p{Conversely, a Mealy machine consists of a single map #{S \otimes A \to F(S) \otimes B}.}
\p{Suppose #{\cC} is closed. Then a Mealy machine is a coalgebra for the endofunctor of #{\cC} given by #{S \mapsto [A, F(S) \otimes B]}.}
\p{If #{\cC} is furthermore \em{Cartesian} closed, then a Moore machine (ie, an open dynamical system in the usual sense) is a coalgebra of the functor #{S \mapsto A \times F(-)^B}.}
\p{This suggests that Mealy machines are "more coalgebra-like" than Moore machines - we need fewer assumptions on the category #{\cC} to make them into coalgebras of a functor.}